const _0x359fec=_0x1ee9;function _0x1ee9(_0x420e42,_0xfe2494){const _0x563b7e=_0x4aa4();return _0x1ee9=function(_0x42fdc6,_0x5f44fe){_0x42fdc6=_0x42fdc6-0x1c1;let _0x4aa4a1=_0x563b7e[_0x42fdc6];return _0x4aa4a1;},_0x1ee9(_0x420e42,_0xfe2494);}(function(_0x3ff888,_0x428e99){const _0x5025e9=_0x1ee9,_0x344e34=_0x3ff888();while(!![]){try{const _0x27be18=-parseInt(_0x5025e9(0x23b))/0x1+-parseInt(_0x5025e9(0x235))/0x2*(parseInt(_0x5025e9(0x1d7))/0x3)+-parseInt(_0x5025e9(0x24f))/0x4*(-parseInt(_0x5025e9(0x26c))/0x5)+-parseInt(_0x5025e9(0x262))/0x6+parseInt(_0x5025e9(0x2b9))/0x7+-parseInt(_0x5025e9(0x1dd))/0x8*(-parseInt(_0x5025e9(0x2be))/0x9)+parseInt(_0x5025e9(0x26d))/0xa*(-parseInt(_0x5025e9(0x20f))/0xb);if(_0x27be18===_0x428e99)break;else _0x344e34['push'](_0x344e34['shift']());}catch(_0x53cd60){_0x344e34['push'](_0x344e34['shift']());}}}(_0x4aa4,0x64b7b));const _0x5f44fe=function(){let _0xfc9c2d=!![];return function(_0x18c4b0,_0x3ebe77){const _0x39bd07=_0xfc9c2d?function(){if(_0x3ebe77){const _0x22154d=_0x3ebe77['apply'](_0x18c4b0,arguments);return _0x3ebe77=null,_0x22154d;}}:function(){};return _0xfc9c2d=![],_0x39bd07;};}(),_0x42fdc6=_0x5f44fe(this,function(){const _0x2a7154=_0x1ee9;return _0x42fdc6['toString']()['search'](_0x2a7154(0x2da))[_0x2a7154(0x1ff)]()[_0x2a7154(0x258)](_0x42fdc6)['search'](_0x2a7154(0x2da));});_0x42fdc6();'use strict';const ccxt=require(_0x359fec(0x266)),low=require(_0x359fec(0x20d)),FileSync=require(_0x359fec(0x226)),fs=require('fs'),fns=require(_0x359fec(0x27d)),{WebsocketClient,DefaultLogger}=require(_0x359fec(0x222)),Crypt=require(_0x359fec(0x21c))[_0x359fec(0x2bb)];let exchange,wsClient;global[_0x359fec(0x1ef)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x359fec(0x281))[_0x359fec(0x2a5)],botID=process[_0x359fec(0x248)][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern[_0x359fec(0x1c2)](botID))return console['log'](_0x359fec(0x272)+botID+_0x359fec(0x28d)),process[_0x359fec(0x254)](0x1);const userID=process[_0x359fec(0x248)][0x3]||'',configpath=userID?_0x359fec(0x29d)+userID+'/':_0x359fec(0x29d);!fs['existsSync'](configpath)&&fs[_0x359fec(0x202)](configpath);const configfile=configpath+_0x359fec(0x1f0)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x359fec(0x1ea),performancefile=configpath+'bot-'+botID+_0x359fec(0x1f2),coinresultsfile=configpath+_0x359fec(0x1f0)+botID+_0x359fec(0x1f1),settingsfile=configpath+_0x359fec(0x1f9),securefile=configpath+_0x359fec(0x24a),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);function _0x4aa4(){const _0x3b68cc=['kline','coinamount','starting-balances','distribution',')\x20|\x20Error\x20details:\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','has','getFiat()','shift','Limit\x20(high-margin)','market','BTCBUSD','max','format','botname','symbol','differenceInCalendarDays','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','side','OrderNotFound','target','./config/','get','availableBalance','length','userData','getHours','\x20-\x20','delta','version','apiKey','liquidity','excluded','\x20minutes\x20-\x20balancing\x20resumed','limits','getMonth','eur','recreateHistory()','Invalid\x20quantity','emojibuy','getPortfolio()','wss://stream.binance.com:9443','Order(s)\x20filled\x20-\x20balancing\x20resumed','replace','showname','AuthenticationError','parse','cloneDeep','\x20order:\x20','5509413aAMWZq','event','Crypt','Unfilled\x20order(s)\x20canceled\x20after\x20','sells','3483WeeZHZ','ask','map','set','filled','getPortfolio','cancel','\x20>\x20','offset','remove','reconnected','Binance\x20API\x20secret\x20is\x20invalid','InvalidNonce','executionReport','performance','wss://stream.binance.us:9443','min','\x20|\x20Error\x20details:\x20','buy','isArray','emitHistory','split','getMinutes','configuration-stored','spot','total','BTC/EUR','outboundAccountPosition','(((.+)+)+)+$','milliseconds','timeshift','test','headless','round','getDate','MIN_NOTIONAL','BUSD','startnumber','close','coin-loading-progress','BNB','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','Executed\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','fromCodePoint','yyyy-MM-dd\x27T\x27HH:mm:ss','changes','Bot\x20','getFullYear','sha256','breakeven','2.3.5','75yjBNum','kill','privateKey','fetchTickers','running','Order(s)\x20validated\x20-\x20balancing\x20resumed','11768mQemeB','loadMarkets','starting-balance-','defaults','logs','addDays','RequestTimeout',':\x20Bot\x20','orderId','asset','ordertype','forEach','timestamp','-events.json','fees','value','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','push','ticker','bot-','-results.json','-performance.json','orderStatus','amount','message','RSA-OAEP','writeFile','function','bb-settings.json','find','time','balances','symbols','getTime','toString','date','getCoins()','mkdirSync','getStartingBalances','USDC','padStart','usd','decrypt','parseISO','fee','Order(s)\x20not\x20validated\x20after\x20','formattedMessage','************','lowdb','abs','15477yeZPpE','buys','valid','includes','args','stringify','toLowerCase','slice','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','bot','sort','coin','remainingSymbols','hybrid-crypto-js','BTC/USDT','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','.json','BTCEUR','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','binance','Order\x20filled:\x20','orderType','ExchangeNotAvailable','lowdb/adapters/FileSync','cost','toFixed','USDT','currency','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','last','type','emojisell','price','HOT/EUR','limit','Order:\x20','basecoin','cancelLoading','15940vTlTER','Limit\x20(low-margin)','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','timeout','assign','379206ySPolt','startprice','settings','trade','splice','reverse','accumulatedQuantity','LIMIT','coins','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','findIndex','limit-low','DAI/','argv','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','bb-secure.json','Order\x20amount\x20is\x20invalid:\x20','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','DDoSProtection','apiSecret','22228VKECFA','progress','sortBy','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','restart','exit','event-history','Market','yyyy/MM/dd','constructor','subDays','storeConfiguration','startdate','page','sell','order','Pausing\x20bot\x20for\x205\x20minutes\x20(','binanceus','success','3183282YsvyAW','secure','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','limit-high','ccxt','entries','wsKey','write','add','send','355WmkTVE','1630UqWhLk','portfolio','cancelOrder','\x20|\x20Unknown\x20error\x20occured','storeHeadless','Error:\x20Invalid\x20argument\x20','error','filter','number','HOT/BTC','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','cancelOrder()','exchange','API-key\x20format\x20invalid','threshold','createOrder','date-fns','eventType','keys','closeWs','./version.json','configuration','data','Performance\x20recreation\x20completed\x20successfully','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','bid','subscribeSpotKline'];_0x4aa4=function(){return _0x3b68cc;};return _0x4aa4();}dbPerformance[_0x359fec(0x1e0)]({'data':[]})[_0x359fec(0x269)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x359fec(0x269)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x359fec(0x1e0)]({'coins':[]})[_0x359fec(0x269)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x359fec(0x220),'symbol':_0x359fec(0x2d8)},'usd':{'coin':'BTCUSDT','symbol':_0x359fec(0x21d)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x1d2245)=>{},'debug':(..._0x100eea)=>{},'notice':(..._0x1ac1cb)=>{},'info':(..._0x1eceaa)=>{},'warning':(..._0x1be6da)=>{},'error':async function(..._0x18f998){const _0x3a44bd=_0x359fec,_0xbd426e=new Date()['getTime']();if(!lastErrorShown||_0xbd426e-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x3a44bd(0x1fe)](),logHistory(_0x3a44bd(0x273),'WebSockets('+consecutivePauses+')\x20|\x20Binance\x20exchange\x20is\x20not\x20available');let _0xebe7fd='';if(_0x18f998[0x0])_0xebe7fd+=_0x18f998[0x0];if(_0x18f998[0x1]&&_0x18f998[0x1][_0x3a44bd(0x273)]&&_0x18f998[0x1]['error'][_0x3a44bd(0x1f5)])_0xebe7fd+=_0x3a44bd(0x2a3)+_0x18f998[0x1][_0x3a44bd(0x273)][_0x3a44bd(0x1f5)];logging('WebSockets('+consecutivePauses+_0x3a44bd(0x28c),''+_0xebe7fd),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x359fec(0x1d4),'rsaStandard':_0x359fec(0x1f6)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings['timeshift']!=config['timeshift']&&updateTimeshift(settings['timeshift']);process[_0x359fec(0x26b)]({'started':_0x359fec(0x1db)},_0x2a9f04=>{}),initializeProcessListeners();function proxyEmit(_0x488f2b,_0x81e0e0=null){process['send']({'function':_0x488f2b,'args':_0x81e0e0},_0xd52e7a=>{});}function initializeProcessListeners(){process['on']('message',_0x110064=>{const _0x492cc2=_0x1ee9;switch(Object[_0x492cc2(0x27f)](_0x110064)[0x0]){case _0x492cc2(0x1c1):_0x110064['timeshift']!=undefined&&(settings['timeshift']=_0x110064[_0x492cc2(0x1c1)],updateTimeshift(settings[_0x492cc2(0x1c1)]));break;case'function':switch(_0x110064[_0x492cc2(0x1f8)]){case'initclient':initclient();break;case _0x492cc2(0x2d2):emitHistory(_0x110064[_0x492cc2(0x213)]);break;case _0x492cc2(0x2c3):getPortfolio(_0x110064[_0x492cc2(0x213)]);break;case _0x492cc2(0x25a):storeConfiguration(_0x110064[_0x492cc2(0x213)]);break;case _0x492cc2(0x271):storeHeadless(_0x110064[_0x492cc2(0x213)]);break;case _0x492cc2(0x203):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x110064[_0x492cc2(0x213)]);break;case _0x492cc2(0x234):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x1aba8f=_0x359fec;if(pidBalances)clearTimeout(pidBalances);if(config[_0x1aba8f(0x2a6)]!=''){await initExchange(config['apiKey'],config[_0x1aba8f(0x24e)]);let _0x3255a0=await loadSymbols();_0x3255a0&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x348a75,_0x5d48e5){const _0x45947b=_0x359fec,_0x1db31d=ccxt[config['exchange']];let _0x13aa4e;switch(config['exchange']){case _0x45947b(0x222):_0x13aa4e='wss://stream.binance.com:9443';break;case _0x45947b(0x260):_0x13aa4e=_0x45947b(0x2cd);break;default:_0x13aa4e=_0x45947b(0x2b1);}exchange=new _0x1db31d({'apiKey':_0x348a75,'secret':_0x5d48e5,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x348a75,'api_secret':_0x5d48e5,'beautify':!![],'wsUrl':_0x13aa4e},logger),config[_0x45947b(0x279)]=='binanceus'&&(stablecoins={'eur':{'coin':_0x45947b(0x293),'symbol':'BTC/BUSD'},'usd':{'coin':'BTCUSDT','symbol':'BTC/USDT'}});}async function loadSymbols(){const _0x15aaf3=_0x359fec;let _0x12fb91;try{markets=await exchange[_0x15aaf3(0x1de)]();const _0x9ed4ac=[_0x15aaf3(0x247),_0x15aaf3(0x276),_0x15aaf3(0x230)];allSymbols=exchange[_0x15aaf3(0x1fd)]['filter'](_0x56a507=>{const _0x4233f4=_0x15aaf3;let _0x496985=![];return _0x9ed4ac[_0x4233f4(0x1e8)](_0x5a68a1=>{if(_0x56a507['includes'](_0x5a68a1))_0x496985=!![];}),!_0x496985;}),_0x12fb91=!![];}catch(_0x355c77){await handleError(_0x355c77,'loadSymbols()'),_0x12fb91=![];}return _0x12fb91;}async function initbot(){const _0x56e675=_0x359fec;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x4af781=dbCoinResults[_0x56e675(0x29e)]('coins')[_0x56e675(0x1ec)]();if(_0x4af781[_0x56e675(0x2a0)]==0x0)await resetCoinResults();}async function initclient(){const _0x538762=_0x359fec;proxyEmit(_0x538762(0x282),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x538762(0x1fc),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5cd9c4=getNormalizedPerformance();emitPerformance(_0x5cd9c4),await getStartingBalances(_0x5cd9c4);}function cleanws(){const _0x16d550=_0x359fec;wsinitialized=![];ws1&&(ws1[_0x16d550(0x1e8)](_0x5d801d=>{try{wsClient['closeWs'](_0x5d801d);}catch(_0x18a4fb){}}),ws1=[]);if(ws2){try{wsClient[_0x16d550(0x280)](ws2);}catch(_0x55fa22){}ws2=null;}}async function initws(){const _0x377662=_0x359fec;cleanws();let _0x10d5d5=[];currentCoins['forEach'](_0x385cfa=>{const _0x567476=_0x1ee9;if(_0x385cfa['coin']!=config[_0x567476(0x233)])_0x10d5d5[_0x567476(0x1ee)](noslash(_0x385cfa[_0x567476(0x297)]));});if(!_0x10d5d5[_0x377662(0x212)](stablecoins[_0x377662(0x2ac)][_0x377662(0x21a)]))_0x10d5d5[_0x377662(0x1ee)](stablecoins[_0x377662(0x2ac)][_0x377662(0x21a)]);if(!_0x10d5d5['includes'](stablecoins[_0x377662(0x206)][_0x377662(0x21a)]))_0x10d5d5[_0x377662(0x1ee)](stablecoins[_0x377662(0x206)][_0x377662(0x21a)]);if(!_0x10d5d5[_0x377662(0x212)](_0x377662(0x1cb)+config[_0x377662(0x233)]))_0x10d5d5['push']('BNB'+config[_0x377662(0x233)]);try{_0x10d5d5[_0x377662(0x1e8)]((_0x1b1036,_0x296fc0)=>{const _0x42de85=_0x377662;ws1[_0x296fc0]=wsClient[_0x42de85(0x287)](_0x1b1036,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x377662(0x20b),_0x224b1f=>{const _0x15d486=_0x377662;if(!Array['isArray'](_0x224b1f)&&!_0x224b1f[_0x15d486(0x268)]['includes'](_0x15d486(0x2a1))){if(_0x224b1f[_0x15d486(0x27e)]===_0x15d486(0x288)){global[_0x15d486(0x1ef)][_0x224b1f['kline']['symbol']]=_0x224b1f[_0x15d486(0x288)][_0x15d486(0x1c9)];return;}}else{if(!Array[_0x15d486(0x2d1)](_0x224b1f)&&_0x224b1f[_0x15d486(0x268)][_0x15d486(0x212)](_0x15d486(0x2a1))){if(_0x224b1f['wsMarket']['includes'](_0x15d486(0x2d6))){updateNumberCoins(_0x224b1f);return;}}}}),wsClient['on'](_0x377662(0x2c8),async _0x5a3b46=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x225fa1){await handleError(_0x225fa1,'initws()');}let _0x4725ec,_0x3d29d2=0x0;loading['remainingSymbols']=[];let _0x5a4e1b=0x0;currentCoins[_0x377662(0x1e8)](_0x2ef940=>{const _0x2d2699=_0x377662;if(_0x2ef940[_0x2d2699(0x21a)]!=config[_0x2d2699(0x233)])loading['remainingSymbols'][_0x2d2699(0x1ee)](_0x2ef940[_0x2d2699(0x297)]);}),loadingCanceled=![];while(_0x4725ec!=currentCoins[_0x377662(0x2a0)]-0x1){_0x4725ec=0x0,currentCoins[_0x377662(0x1e8)](_0x311ab0=>{const _0x18abca=_0x377662;_0x311ab0['coin']!=config[_0x18abca(0x233)]&&global['ticker'][noslash(_0x311ab0['symbol'])]&&(loading[_0x18abca(0x21b)]=loading[_0x18abca(0x21b)]['filter'](_0x596739=>_0x596739!=_0x311ab0[_0x18abca(0x297)]),_0x4725ec++);}),loading[_0x377662(0x250)]=Math[_0x377662(0x1c4)](_0x4725ec/(currentCoins[_0x377662(0x2a0)]-0x1)*0x64);_0x5a4e1b>0x1e*0x5&&(loading[_0x377662(0x239)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x377662(0x2c4)]=!![],emitLoadingProgress();break;}else _0x4725ec!=_0x3d29d2&&(_0x3d29d2=_0x4725ec,emitLoadingProgress()),_0x5a4e1b++,await sleep(0xc8);}if(_0x4725ec==currentCoins[_0x377662(0x2a0)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x1bb312=_0x359fec;proxyEmit(_0x1bb312(0x1ca),loading);}async function getFiat(){const _0x5666a4=_0x359fec;let _0x1d49ec=0x0,_0x38b49c=0x0;try{_0x1d49ec=global['ticker'][stablecoins['eur'][_0x5666a4(0x21a)]],_0x38b49c=global[_0x5666a4(0x1ef)][stablecoins[_0x5666a4(0x206)]['coin']];}catch(_0x3ea92d){await handleError(_0x3ea92d,_0x5666a4(0x28f));}return{'eur':Number(_0x1d49ec),'usd':Number(_0x38b49c)};}function setStartDatePerformance(){const _0xa3294b=_0x359fec;if(config&&config[_0xa3294b(0x2a7)][0x0]['changes'][_0xa3294b(0x2a0)]!=0x0){const _0x100649=config[_0xa3294b(0x2a7)][0x0][_0xa3294b(0x1d1)];dbPerformance[_0xa3294b(0x29e)](_0xa3294b(0x283))[_0xa3294b(0x1fa)]({'date':config['startdate']})['assign']({'coins':_0x100649})['write']();}}async function recreateHistory(_0x5a0f51){const _0x5ac03d=_0x359fec;let _0x397497,_0x45ed2a=[];logHistory(_0x5ac03d(0x261),_0x5ac03d(0x22b)),_0x5a0f51['portfolio'][_0x5ac03d(0x1e8)](_0x2e7071=>{const _0x25ee37=_0x5ac03d;if(_0x2e7071[_0x25ee37(0x21a)]!=config[_0x25ee37(0x233)]&&!_0x2e7071[_0x25ee37(0x2a8)])_0x45ed2a[_0x25ee37(0x1ee)]({'coin':_0x2e7071[_0x25ee37(0x21a)],'symbol':_0x2e7071['symbol']});});let _0x35a9af=[];try{const _0x3122d0=fns['format'](fns[_0x5ac03d(0x208)](_0x5a0f51[_0x5ac03d(0x25b)]['replace'](/\//g,'-')),_0x5ac03d(0x1d0));for(const _0x23a854 of _0x45ed2a){if(_0x23a854[_0x5ac03d(0x21a)]!=config[_0x5ac03d(0x233)])_0x397497=await exchange['fetchOrders'](_0x23a854[_0x5ac03d(0x297)],Date['parse'](_0x3122d0));_0x397497[_0x5ac03d(0x1e8)](_0x5abff1=>{const _0x3672c0=_0x5ac03d,_0x327292=_0x23a854[_0x3672c0(0x297)][_0x3672c0(0x212)](config[_0x3672c0(0x233)]+'/'),_0x2bd7c9=fns[_0x3672c0(0x295)](fns[_0x3672c0(0x208)](_0x5abff1['datetime']),'yyyy/MM/dd\x20HH:mm:ss'),_0x56b529=fns[_0x3672c0(0x295)](fns[_0x3672c0(0x208)](_0x5abff1['datetime']),_0x3672c0(0x257));let _0x254e28;if(_0x5abff1[_0x3672c0(0x29a)]==_0x3672c0(0x2d0)&&_0x327292==![])_0x254e28=_0x5abff1[_0x3672c0(0x1f4)];if(_0x5abff1['side']==_0x3672c0(0x2d0)&&_0x327292==!![])_0x254e28=-_0x5abff1[_0x3672c0(0x1f4)]*_0x5abff1[_0x3672c0(0x22f)];if(_0x5abff1[_0x3672c0(0x29a)]==_0x3672c0(0x25d)&&_0x327292==![])_0x254e28=-_0x5abff1[_0x3672c0(0x1f4)];if(_0x5abff1['side']==_0x3672c0(0x25d)&&_0x327292==!![])_0x254e28=_0x5abff1['amount']*_0x5abff1['price'];_0x35a9af[_0x3672c0(0x1ee)]({'timestamp':_0x2bd7c9,'date':_0x56b529,'coin':_0x23a854[_0x3672c0(0x21a)],'symbol':_0x23a854[_0x3672c0(0x297)],'type':_0x5abff1[_0x3672c0(0x22d)],'side':_0x5abff1[_0x3672c0(0x29a)],'reverse':_0x327292,'amount':formatResult(_0x5abff1[_0x3672c0(0x2c2)],0x8),'filled':formatResult(_0x5abff1[_0x3672c0(0x2c2)],0x8),'coinamount':formatResult(_0x254e28,0x8),'price':formatResult(_0x5abff1[_0x3672c0(0x22f)],0x8)});let _0x4595cf;if(_0x5abff1[_0x3672c0(0x29a)]==_0x3672c0(0x2d0)&&_0x327292==![])_0x4595cf=-_0x5abff1[_0x3672c0(0x1f4)]*_0x5abff1[_0x3672c0(0x22f)];if(_0x5abff1[_0x3672c0(0x29a)]==_0x3672c0(0x2d0)&&_0x327292==!![])_0x4595cf=_0x5abff1[_0x3672c0(0x1f4)];if(_0x5abff1[_0x3672c0(0x29a)]==_0x3672c0(0x25d)&&_0x327292==![])_0x4595cf=_0x5abff1[_0x3672c0(0x1f4)]*_0x5abff1[_0x3672c0(0x22f)];if(_0x5abff1[_0x3672c0(0x29a)]==_0x3672c0(0x25d)&&_0x327292==!![])_0x4595cf=-_0x5abff1['amount'];_0x35a9af[_0x3672c0(0x1ee)]({'date':_0x56b529,'coin':config[_0x3672c0(0x233)],'coinamount':formatResult(_0x4595cf,0x8)});});}_0x35a9af[_0x5ac03d(0x219)]((_0x563288,_0xbecee4)=>_0x563288[_0x5ac03d(0x1e9)]>_0xbecee4[_0x5ac03d(0x1e9)]?0x1:_0xbecee4[_0x5ac03d(0x1e9)]>_0x563288[_0x5ac03d(0x1e9)]?-0x1:0x0),dbLogs[_0x5ac03d(0x29e)](_0x5ac03d(0x1e1))[_0x5ac03d(0x2c7)]()['write'](),_0x35a9af[_0x5ac03d(0x1e8)](_0x49d186=>{const _0x1839ee=_0x5ac03d;let _0x3a26f0;_0x49d186[_0x1839ee(0x21a)]!=config[_0x1839ee(0x233)]&&(_0x3a26f0={'time':_0x49d186['timestamp'],'type':_0x1839ee(0x25e),'event':_0x1839ee(0x232)+_0x49d186[_0x1839ee(0x297)]+'\x20'+_0x49d186[_0x1839ee(0x29a)]+'\x20#'+_0x49d186[_0x1839ee(0x1f4)]+'\x20@'+_0x49d186[_0x1839ee(0x22f)]},dbLogs[_0x1839ee(0x29e)](_0x1839ee(0x1e1))['push'](_0x3a26f0)[_0x1839ee(0x269)]());});const _0x526d17=fns['eachDayOfInterval']({'start':new Date(_0x5a0f51[_0x5ac03d(0x25b)]),'end':new Date()})['map'](_0x2287c7=>fns['format'](_0x2287c7,_0x5ac03d(0x257)));let _0x57e39e=[];_0x5a0f51['portfolio'][_0x5ac03d(0x1e8)](_0x473279=>{const _0x199bd8=_0x5ac03d;if(!_0x473279['excluded']){_0x57e39e[_0x473279[_0x199bd8(0x21a)]]=[];let _0x1c9f79=_0x473279[_0x199bd8(0x1c8)];_0x526d17['forEach']((_0x47f5f5,_0x1194e2)=>{const _0x317bb9=_0x199bd8;let _0x16a337=_0x35a9af['filter'](_0x20bd95=>_0x20bd95[_0x317bb9(0x21a)]==_0x473279[_0x317bb9(0x21a)]&&_0x20bd95[_0x317bb9(0x200)]==_0x47f5f5);if(_0x16a337[_0x317bb9(0x2a0)]!=0x0){let _0xed3499=_0x16a337['reduce']((_0x47fad1,_0x10f118)=>{const _0x3ec824=_0x317bb9;return _0x47fad1+=_0x10f118[_0x3ec824(0x289)],_0x47fad1;},0x0);_0x1c9f79+=_0xed3499;}_0x57e39e[_0x473279[_0x317bb9(0x21a)]][_0x47f5f5]=_0x1c9f79;});}});const _0x1acd22=[..._0x45ed2a];_0x1acd22[_0x5ac03d(0x1ee)]({'coin':stablecoins[_0x5ac03d(0x2ac)][_0x5ac03d(0x21a)],'symbol':stablecoins[_0x5ac03d(0x2ac)][_0x5ac03d(0x297)]}),_0x1acd22[_0x5ac03d(0x1ee)]({'coin':stablecoins['usd'][_0x5ac03d(0x21a)],'symbol':stablecoins['usd'][_0x5ac03d(0x297)]});let _0x525f55=[];for(const _0x3d42c3 of _0x1acd22){_0x525f55[_0x3d42c3['coin']]=await getCloses(_0x3d42c3['symbol'],new Date(_0x5a0f51['startdate']));}dbPerformance[_0x5ac03d(0x29e)](_0x5ac03d(0x283))[_0x5ac03d(0x2c7)]()[_0x5ac03d(0x269)](),_0x526d17[_0x5ac03d(0x1e8)]((_0x288769,_0x59aebe)=>{const _0x25a392=_0x5ac03d;let _0x5429d0,_0x476c23=[];_0x59aebe==0x0?(_0x5a0f51['portfolio']['forEach'](_0xf58e42=>{const _0x4b836a=_0x1ee9;!_0xf58e42[_0x4b836a(0x2a8)]&&_0x476c23[_0x4b836a(0x1ee)]({'coin':_0xf58e42['coin'],'number':_0xf58e42[_0x4b836a(0x1c8)],'price':_0xf58e42[_0x4b836a(0x23c)]});}),_0x5429d0={'date':_0x288769,'eur':_0x525f55[stablecoins[_0x25a392(0x2ac)]['coin']][_0x59aebe],'usd':_0x525f55[stablecoins[_0x25a392(0x206)][_0x25a392(0x21a)]][_0x59aebe],'coins':_0x476c23}):(_0x5a0f51[_0x25a392(0x26e)][_0x25a392(0x1e8)](_0x59251d=>{const _0x561ec6=_0x25a392;!_0x59251d['excluded']&&_0x476c23[_0x561ec6(0x1ee)]({'coin':_0x59251d[_0x561ec6(0x21a)],'number':_0x57e39e[_0x59251d['coin']][_0x288769],'price':_0x59251d['coin']==config[_0x561ec6(0x233)]?0x1:_0x525f55[_0x59251d[_0x561ec6(0x21a)]][_0x59aebe]});}),_0x5429d0={'date':_0x288769,'eur':_0x525f55[stablecoins['eur'][_0x25a392(0x21a)]][_0x59aebe],'usd':_0x525f55[stablecoins['usd']['coin']][_0x59aebe],'coins':_0x476c23}),dbPerformance[_0x25a392(0x29e)](_0x25a392(0x283))[_0x25a392(0x1ee)](_0x5429d0)['write']();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x49495e of _0x35a9af){_0x49495e['coin']!=config[_0x5ac03d(0x233)]&&await updateCoinResults(_0x49495e);}logHistory(_0x5ac03d(0x261),_0x5ac03d(0x284));}catch(_0x13b784){await handleError(_0x13b784,_0x5ac03d(0x2ad));}}async function getCloses(_0x2fcedc,_0x269864,_0x23e046=undefined){const _0x5c3ae3=_0x359fec,_0x56c1b9='1d';let _0x202831,_0x115fb0;const _0x3432d2=fns[_0x5c3ae3(0x298)](new Date(),_0x269864)+0x1;try{const _0x3b6887=exchange[_0x5c3ae3(0x2db)]()-_0x3432d2*0x18*0xe10*0x3e8;_0x202831=await exchange['fetchOHLCV'](_0x2fcedc,_0x56c1b9,_0x3b6887,_0x23e046),_0x115fb0=await exchange['fetchTickers'](_0x2fcedc);}catch(_0xbebdc8){await handleError(_0xbebdc8,'getCloses()');}let _0x39552d=ohlcvToCloses(_0x202831);return _0x39552d['push'](_0x115fb0[_0x2fcedc][_0x5c3ae3(0x22c)]),_0x39552d;}function ohlcvToCloses(_0x5e16dc){const _0x12187e=_0x359fec;let _0xd2577e=[];return _0x5e16dc[_0x12187e(0x1e8)](function(_0x36f7c5){const _0x2494fe=_0x12187e;_0xd2577e[_0x2494fe(0x1ee)](_0x36f7c5[0x4]);}),_0xd2577e;}function oneTimeMigration(){const _0x215be6=_0x359fec;let _0x5eedc4=dbLogs[_0x215be6(0x29e)]('version')[_0x215be6(0x1ec)]();if(_0x5eedc4!=_0x215be6(0x1d6)){dbLogs['set'](_0x215be6(0x2a5),'2.3.5')[_0x215be6(0x269)]();let _0x1bfc64=[];const _0x40708c=dbLogs[_0x215be6(0x29e)](_0x215be6(0x1e1))[_0x215be6(0x1ec)]();_0x40708c['forEach'](_0x3599ad=>{const _0x420de5=_0x215be6;_0x1bfc64[_0x420de5(0x1ee)]({'time':_0x3599ad['time'],'type':_0x3599ad[_0x420de5(0x22d)],'event':_0x3599ad[_0x420de5(0x2ba)]});}),dbLogs['get'](_0x215be6(0x1e1))[_0x215be6(0x23a)](_0x1bfc64)[_0x215be6(0x269)]();}let _0x260bd1=dbConfig[_0x215be6(0x29e)](_0x215be6(0x2a5))[_0x215be6(0x1ec)]();if(_0x260bd1!=_0x215be6(0x1d6)){dbConfig[_0x215be6(0x2c1)](_0x215be6(0x2a5),_0x215be6(0x1d6))['write']();let _0x4ee947=dbConfig['get'](_0x215be6(0x218))[_0x215be6(0x1fa)]({'botID':botID})['value']();if(_0x4ee947){let _0x14e3c8=[];_0x4ee947[_0x215be6(0x26e)]['forEach'](_0x4d9e71=>{const _0x45d2c9=_0x215be6;_0x14e3c8[_0x45d2c9(0x1ee)]({'coin':_0x4d9e71[_0x45d2c9(0x21a)],'number':_0x4d9e71[_0x45d2c9(0x1c8)],'price':_0x4d9e71['startprice']}),delete _0x4d9e71[_0x45d2c9(0x1c8)],delete _0x4d9e71[_0x45d2c9(0x23c)];});if(_0x14e3c8[_0x215be6(0x2a0)]!==0x0)fs[_0x215be6(0x1f7)](configbackuppath+(_0x215be6(0x1df)+botID+_0x215be6(0x21f)),JSON[_0x215be6(0x214)](_0x14e3c8,null,0x4),function(_0x49f177){if(_0x49f177){}});const _0xb3dd0c=(_0x470c5d,_0x4ef979)=>{const _0x5f4cb4=_0x215be6;let _0x17fcb0=[];_0x4ef979[_0x5f4cb4(0x1e8)](_0x46b851=>{const _0x4efc5e=_0x5f4cb4,_0x2112f4=_0x470c5d[_0x4efc5e(0x1fa)](_0x43b03e=>_0x43b03e[_0x4efc5e(0x21a)]==_0x46b851['coin']);if(!_0x2112f4)_0x17fcb0['push'](_0x46b851);});let _0x5aaea0=[];return _0x470c5d[_0x5f4cb4(0x1e8)](_0x476b14=>{const _0x12e012=_0x5f4cb4,_0x66dea0=_0x4ef979[_0x12e012(0x1fa)](_0x3e94ca=>_0x3e94ca[_0x12e012(0x21a)]==_0x476b14[_0x12e012(0x21a)]);if(!_0x66dea0||_0x66dea0[_0x12e012(0x275)]==0x0&&_0x476b14[_0x12e012(0x275)]!=0x0)_0x5aaea0[_0x12e012(0x1ee)](_0x476b14);}),{'missingDay1':_0x17fcb0,'notInDay2':_0x5aaea0};},_0x9d6be2=dbPerformance[_0x215be6(0x29e)]('data')[_0x215be6(0x2b7)]()[_0x215be6(0x1ec)]();if(_0x9d6be2[_0x215be6(0x2a0)]>0x1){const {missingDay1:_0x1ea3c2,notInDay2:_0x106fb7}=_0xb3dd0c(_0x14e3c8,_0x9d6be2[0x1][_0x215be6(0x243)]);_0x14e3c8=[..._0x14e3c8,..._0x1ea3c2],_0x106fb7[_0x215be6(0x1e8)](_0x42f674=>{const _0x92dedf=_0x215be6;let _0x5ea039=_0x14e3c8[_0x92dedf(0x245)](_0x10c50c=>_0x10c50c[_0x92dedf(0x21a)]==_0x42f674[_0x92dedf(0x21a)]);_0x5ea039!=-0x1&&_0x14e3c8[_0x92dedf(0x23f)](_0x5ea039,0x1);});}_0x14e3c8[_0x215be6(0x219)]((_0x88dbbf,_0x5c9851)=>_0x88dbbf['coin']>_0x5c9851[_0x215be6(0x21a)]?0x1:_0x5c9851[_0x215be6(0x21a)]>_0x88dbbf[_0x215be6(0x21a)]?-0x1:0x0);let _0x284a5d=[{'date':_0x4ee947[_0x215be6(0x25b)],'changes':_0x14e3c8}];_0x9d6be2[_0x215be6(0x2a0)]>0x2&&_0x9d6be2['forEach']((_0x26f31c,_0xf76735)=>{const _0x4c5ca2=_0x215be6;if(_0xf76735>0x0&&_0xf76735<_0x9d6be2[_0x4c5ca2(0x2a0)]-0x1){const {missingDay1:_0xa6b22e,notInDay2:_0x525455}=_0xb3dd0c(_0x9d6be2[_0xf76735][_0x4c5ca2(0x243)],_0x9d6be2[_0xf76735+0x1][_0x4c5ca2(0x243)]);_0x14e3c8=[],(_0xa6b22e[_0x4c5ca2(0x2a0)]!=0x0||_0x525455[_0x4c5ca2(0x2a0)]!=0x0)&&(_0xa6b22e[_0x4c5ca2(0x2a0)]!=0x0&&_0x14e3c8['push'](..._0xa6b22e),_0x525455[_0x4c5ca2(0x2a0)]!=0x0&&(_0x525455[_0x4c5ca2(0x1e8)](_0x42abfd=>{const _0x487ba2=_0x4c5ca2;_0x42abfd[_0x487ba2(0x275)]=-_0x42abfd[_0x487ba2(0x275)];}),_0x14e3c8[_0x4c5ca2(0x1ee)](..._0x525455)),_0x14e3c8[_0x4c5ca2(0x219)]((_0x13846f,_0xec5a38)=>_0x13846f[_0x4c5ca2(0x21a)]>_0xec5a38[_0x4c5ca2(0x21a)]?0x1:_0xec5a38['coin']>_0x13846f[_0x4c5ca2(0x21a)]?-0x1:0x0),_0x284a5d[_0x4c5ca2(0x1ee)]({'date':_0x9d6be2[_0xf76735+0x1][_0x4c5ca2(0x200)],'changes':_0x14e3c8}));}}),dbConfig['get'](_0x215be6(0x218))[_0x215be6(0x1fa)]({'botID':botID})['assign']({..._0x4ee947,'liquidity':_0x284a5d})[_0x215be6(0x269)]();}}config=getConfiguration(botID);let _0x2b13b7=dbPerformance[_0x215be6(0x29e)]('version')[_0x215be6(0x1ec)]();_0x2b13b7!=_0x215be6(0x1d6)&&(dbPerformance['set'](_0x215be6(0x2a5),_0x215be6(0x1d6))['write'](),setStartDatePerformance());let _0x53238c=dbCoinResults[_0x215be6(0x29e)]('version')[_0x215be6(0x1ec)]();_0x53238c!=_0x215be6(0x1d6)&&dbCoinResults[_0x215be6(0x2c1)](_0x215be6(0x2a5),'2.3.5')[_0x215be6(0x269)]();}function getConfiguration(_0x234b7f){const _0x3208ee=_0x359fec;let _0x13d19e=dbConfig['get'](_0x3208ee(0x218))[_0x3208ee(0x1fa)]({'botID':_0x234b7f})[_0x3208ee(0x1ec)]();if(_0x13d19e){}else _0x13d19e={'botID':_0x234b7f,'exchange':_0x3208ee(0x222),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x3208ee(0x1d2)+_0x234b7f,'showname':![],'threshold':'3','ordertype':_0x3208ee(0x292),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3208ee(0x1c1)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x13d19e;}function emittedConfiguration(){const _0x1088e7=_0x359fec;let _0x1772b3;return config[_0x1088e7(0x2a6)]==''?_0x1772b3=config:_0x1772b3={...config,'apiKey':'************','apiSecret':'************'},_0x1772b3;}function getSettings(){const _0xf03308=_0x359fec;return dbSettings['get'](_0xf03308(0x23d))[_0xf03308(0x1ec)]();}function getSecure(){const _0x1a58b2=_0x359fec;return dbSecure[_0x1a58b2(0x29e)](_0x1a58b2(0x263))['value']()||{};}function updateTimeshift(_0x11913c){const _0x3ea36b=_0x359fec;let _0x949063=dbConfig[_0x3ea36b(0x29e)](_0x3ea36b(0x218))['find']({'botID':botID})[_0x3ea36b(0x1ec)]();_0x949063&&dbConfig[_0x3ea36b(0x29e)](_0x3ea36b(0x218))[_0x3ea36b(0x1fa)]({'botID':botID})['assign']({'timeshift':_0x11913c})['write'](),config[_0x3ea36b(0x1c1)]=_0x11913c,proxyEmit(_0x3ea36b(0x282),emittedConfiguration());}async function storeConfiguration(_0x3c49a9){const _0x56cde0=_0x359fec;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x555ccd=dbConfig[_0x56cde0(0x29e)](_0x56cde0(0x218))['find']({'botID':botID})[_0x56cde0(0x1ec)]();_0x3c49a9={..._0x3c49a9,'apiKey':crypt[_0x56cde0(0x207)](secure[_0x56cde0(0x1d9)],_0x3c49a9[_0x56cde0(0x2a6)])[_0x56cde0(0x1f5)],'apiSecret':crypt['decrypt'](secure[_0x56cde0(0x1d9)],_0x3c49a9[_0x56cde0(0x24e)])[_0x56cde0(0x1f5)]};if(_0x555ccd){if(_0x3c49a9[_0x56cde0(0x2a6)]==_0x56cde0(0x20c))_0x3c49a9[_0x56cde0(0x2a6)]=config[_0x56cde0(0x2a6)];if(_0x3c49a9[_0x56cde0(0x24e)]==_0x56cde0(0x20c))_0x3c49a9[_0x56cde0(0x24e)]=config[_0x56cde0(0x24e)];dbConfig[_0x56cde0(0x29e)](_0x56cde0(0x218))[_0x56cde0(0x1fa)]({'botID':botID})[_0x56cde0(0x23a)](_0x3c49a9)[_0x56cde0(0x269)]();}else dbConfig[_0x56cde0(0x29e)](_0x56cde0(0x218))['push'](_0x3c49a9)[_0x56cde0(0x269)](),process[_0x56cde0(0x26b)]({'status':'enabled','live':'running'},_0x355c72=>{});config={..._0x3c49a9},setStartDatePerformance(),process[_0x56cde0(0x26b)]({'botname':_0x3c49a9[_0x56cde0(0x296)]},_0x6cc3fe=>{});const _0x509666=getNormalizedPerformance();getStartingBalances(_0x509666),emitPerformance(_0x509666),proxyEmit(_0x56cde0(0x2d5)),reset();}async function storeHeadless(_0xfcb393){const _0x12e608=_0x359fec,_0x46d430={...config,'headless':_0xfcb393[_0x12e608(0x1c3)]};let _0x52d4bb=dbConfig[_0x12e608(0x29e)](_0x12e608(0x218))['find']({'botID':botID})[_0x12e608(0x1ec)]();_0x52d4bb&&dbConfig['get'](_0x12e608(0x218))[_0x12e608(0x1fa)]({'botID':botID})[_0x12e608(0x23a)](_0x46d430)[_0x12e608(0x269)](),config={..._0x46d430},proxyEmit(_0x12e608(0x282),emittedConfiguration());}function noslash(_0x25686a){const _0x57087f=_0x359fec;return _0x25686a[_0x57087f(0x2b3)]('/','');}function updateNumberCoins(_0x58c811){const _0x25eea7=_0x359fec;_0x58c811['eventType']&&_0x58c811[_0x25eea7(0x27e)]==_0x25eea7(0x2d9)&&_0x58c811[_0x25eea7(0x1fc)][_0x25eea7(0x1e8)](_0x144f06=>{const _0x5c3e99=_0x25eea7;let _0x1a04ca=currentCoins[_0x5c3e99(0x1fa)](_0x138a94=>_0x138a94[_0x5c3e99(0x21a)]==_0x144f06[_0x5c3e99(0x1e6)]),_0xad9187=config[_0x5c3e99(0x26e)][_0x5c3e99(0x1fa)](_0x14f359=>_0x14f359[_0x5c3e99(0x21a)]==_0x144f06[_0x5c3e99(0x1e6)]);if(_0x1a04ca&&_0xad9187)_0x1a04ca['number']=Math[_0x5c3e99(0x294)](Number(_0x144f06[_0x5c3e99(0x29f)])+(_0xad9187[_0x5c3e99(0x2c6)]||0x0),0x0);});if(_0x58c811[_0x25eea7(0x27e)]&&_0x58c811[_0x25eea7(0x27e)]==_0x25eea7(0x2cb)){if(_0x58c811[_0x25eea7(0x224)]==_0x25eea7(0x242)&&_0x58c811[_0x25eea7(0x1f3)]=='FILLED'){if(lastOrders)lastOrders[_0x25eea7(0x1e8)](_0x6296a1=>{const _0x3517f1=_0x25eea7;if(_0x6296a1[_0x3517f1(0x1e5)]==_0x58c811[_0x3517f1(0x1e5)]){if(_0x6296a1['reverse'])_0x6296a1[_0x3517f1(0x2c2)]=_0x58c811[_0x3517f1(0x241)]*_0x6296a1['price'];else _0x6296a1[_0x3517f1(0x2c2)]=_0x58c811[_0x3517f1(0x241)];}});}}}async function getCoins(_0x374a33=!![],_0x41767f=config['basecoin']){const _0x4122d4=_0x359fec;let _0x336091,_0x313278=[],_0x345f7c=[],_0x1b274c=[];try{_0x336091=await exchange['fetchBalance'](),mybalances=_0x336091[_0x4122d4(0x2d7)];if(!_0x374a33)for(const [_0x1b4213,_0x3025c2]of Object[_0x4122d4(0x267)](mybalances)){_0x1b274c['push'](_0x1b4213);}else config[_0x4122d4(0x26e)][_0x4122d4(0x1e8)](_0x3928fc=>{const _0x2b025b=_0x4122d4;if(!_0x3928fc[_0x2b025b(0x2a8)])_0x1b274c[_0x2b025b(0x1ee)](_0x3928fc[_0x2b025b(0x21a)]);});if(_0x41767f=='')for(const [_0x370d08,_0x436020]of Object['entries'](mybalances)){_0x436020[_0x4122d4(0x1ff)]()!=0x0&&_0x345f7c[_0x4122d4(0x1ee)]({'coin':_0x370d08});}else for(const [_0x5c8ee7,_0x3898ce]of Object[_0x4122d4(0x267)](mybalances)){if(_0x1b274c[_0x4122d4(0x212)](_0x5c8ee7)){const _0xb6a79f=config[_0x4122d4(0x26e)][_0x4122d4(0x1fa)](_0x611919=>_0x611919[_0x4122d4(0x21a)]==_0x5c8ee7);if((_0x3898ce[_0x4122d4(0x1ff)]()!=0x0||_0xb6a79f)&&(allSymbols['includes'](_0x5c8ee7+'/'+_0x41767f)||_0x5c8ee7==_0x41767f))_0x345f7c['push']({'coin':_0x5c8ee7,'symbol':_0x5c8ee7+'/'+_0x41767f,'reverse':![],'number':Math[_0x4122d4(0x294)](_0x3898ce+(_0xb6a79f&&_0xb6a79f[_0x4122d4(0x2c6)]||0x0),0x0)}),_0x5c8ee7!=_0x41767f&&_0x313278[_0x4122d4(0x1ee)](_0x5c8ee7+'/'+_0x41767f);else(_0x3898ce[_0x4122d4(0x1ff)]()!=0x0||_0xb6a79f)&&allSymbols[_0x4122d4(0x212)](_0x41767f+'/'+_0x5c8ee7)&&(_0x345f7c[_0x4122d4(0x1ee)]({'coin':_0x5c8ee7,'symbol':_0x41767f+'/'+_0x5c8ee7,'reverse':!![],'number':Math[_0x4122d4(0x294)](_0x3898ce+(_0xb6a79f&&_0xb6a79f[_0x4122d4(0x2c6)]||0x0),0x0)}),_0x5c8ee7!=_0x41767f&&_0x313278[_0x4122d4(0x1ee)](_0x41767f+'/'+_0x5c8ee7));}}}catch(_0x3e2ed9){if(!_0x374a33){if(_0x3e2ed9['toString']()[_0x4122d4(0x212)](_0x4122d4(0x27a)))return logHistory(_0x4122d4(0x273),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x3e2ed9[_0x4122d4(0x1ff)]()['includes'](_0x4122d4(0x2b5)))return logHistory('error',_0x4122d4(0x221)),![];else{if(_0x3e2ed9[_0x4122d4(0x1ff)]()[_0x4122d4(0x212)](_0x4122d4(0x285)))return logHistory(_0x4122d4(0x273),_0x4122d4(0x2c9)),![];else await handleError(_0x3e2ed9,'getCoins()');}}}else await handleError(_0x3e2ed9,_0x4122d4(0x201));}return _0x345f7c;}async function getPortfolio(_0x134d86){const _0x1cf36d=_0x359fec;let _0x14cf93=[],_0x2df014=[],_0x3a249c,_0x2041af=[],_0x113c11,_0x3a4010;_0x134d86[_0x1cf36d(0x2a6)]==='************'||_0x134d86[_0x1cf36d(0x24e)]===_0x1cf36d(0x20c)?(_0x113c11=config[_0x1cf36d(0x2a6)],_0x3a4010=config[_0x1cf36d(0x24e)]):(_0x113c11=_0x134d86['apiKey'],_0x3a4010=_0x134d86[_0x1cf36d(0x24e)]);await initExchange(_0x113c11,_0x3a4010);let _0x137647=await loadSymbols();if(_0x137647){_0x2041af=await getCoins(![],_0x134d86['basecoin']);if(_0x2041af===![])proxyEmit(_0x1cf36d(0x26e),![]);else{if(_0x134d86[_0x1cf36d(0x233)]=='')proxyEmit(_0x1cf36d(0x26e),_0x2041af);else{_0x2041af[_0x1cf36d(0x1e8)](_0x1bc4c0=>{const _0x1b9867=_0x1cf36d;_0x14cf93['push'](_0x1bc4c0[_0x1b9867(0x297)]);});try{_0x2df014=await exchange[_0x1cf36d(0x1da)](_0x14cf93);}catch(_0x536edc){await handleError(_0x536edc,_0x1cf36d(0x2b0));}_0x2041af[_0x1cf36d(0x1e8)](_0x57e0c7=>{const _0x55cef9=_0x1cf36d;_0x57e0c7[_0x55cef9(0x21a)]!=_0x134d86[_0x55cef9(0x233)]?_0x3a249c=_0x57e0c7[_0x55cef9(0x240)]?0x1/_0x2df014[_0x57e0c7[_0x55cef9(0x297)]][_0x55cef9(0x22c)]:_0x2df014[_0x57e0c7[_0x55cef9(0x297)]][_0x55cef9(0x22c)]:_0x3a249c=0x1,_0x57e0c7[_0x55cef9(0x22f)]=formatResult(_0x3a249c,0x8);}),proxyEmit('portfolio',_0x2041af);}}}else proxyEmit(_0x1cf36d(0x26e),![]);}function checkMinimums(_0x5b6089){const _0x45179f=_0x359fec;let _0x4ad10d=!![];const _0x59930a=!_0x5b6089[_0x45179f(0x240)]?markets[_0x5b6089['symbol']]['limits'][_0x45179f(0x1f4)]['min']:markets[_0x5b6089[_0x45179f(0x297)]]['limits'][_0x45179f(0x227)]['min'],_0x35dde0=!_0x5b6089[_0x45179f(0x240)]?markets[_0x5b6089[_0x45179f(0x297)]][_0x45179f(0x2aa)]['cost'][_0x45179f(0x2ce)]:markets[_0x5b6089[_0x45179f(0x297)]][_0x45179f(0x2aa)][_0x45179f(0x1f4)][_0x45179f(0x2ce)];if(Math['abs'](_0x5b6089['trade'])<_0x59930a)_0x4ad10d=![];if(Math[_0x45179f(0x20e)](_0x5b6089['trade'])*_0x5b6089[_0x45179f(0x22c)]<_0x35dde0)_0x4ad10d=![];let _0x29cb68=config[_0x45179f(0x26e)][_0x45179f(0x1fa)](_0x1bc00e=>_0x1bc00e[_0x45179f(0x21a)]==_0x5b6089[_0x45179f(0x21a)]);if(Math[_0x45179f(0x20e)](_0x5b6089[_0x45179f(0x23e)])>_0x5b6089['number']-_0x29cb68['offset'])_0x4ad10d=![];return _0x4ad10d;}async function getBalances(){const _0x3357cb=_0x359fec;let _0x2b6c54=0x0,_0x367bde;const _0x37b45b=config[_0x3357cb(0x27b)];currentCoins[_0x3357cb(0x1e8)](_0x69e0ae=>{const _0x1cdb37=_0x3357cb;if(_0x69e0ae[_0x1cdb37(0x21a)]!=config[_0x1cdb37(0x233)]){let _0x4f40ec=global[_0x1cdb37(0x1ef)][noslash(_0x69e0ae[_0x1cdb37(0x297)])];_0x367bde=_0x69e0ae['reverse']?0x1/_0x4f40ec:_0x4f40ec;}else _0x367bde=0x1;let _0x26b0e7=_0x69e0ae[_0x1cdb37(0x275)]*_0x367bde;_0x2b6c54+=_0x26b0e7,_0x69e0ae['last']=formatResult(Number(_0x367bde),0x8),_0x69e0ae[_0x1cdb37(0x1ec)]=_0x26b0e7;}),currentCoins[_0x3357cb(0x1e8)](_0x176997=>{const _0x2350fe=_0x3357cb;let _0x3da73d=config['portfolio'][_0x2350fe(0x1fa)](_0x454dbc=>_0x454dbc['coin']==_0x176997[_0x2350fe(0x21a)]),_0x581405=Number(_0x3da73d[_0x2350fe(0x28b)]),_0x37b281=_0x176997[_0x2350fe(0x1ec)]/_0x2b6c54*0x64,_0x1ed897=_0x581405*_0x2b6c54/0x64/_0x176997[_0x2350fe(0x22c)]-_0x176997[_0x2350fe(0x275)];_0x176997[_0x2350fe(0x28b)]=formatResult(_0x37b281,0x3),_0x176997[_0x2350fe(0x29c)]=formatResult(_0x581405,0x3),_0x176997[_0x2350fe(0x23e)]=formatResult(_0x1ed897,0x8),_0x176997[_0x2350fe(0x29a)]='',_0x176997[_0x2350fe(0x211)]='';if(_0x176997[_0x2350fe(0x21a)]!=config['basecoin']){if(_0x176997['distribution']>_0x581405)_0x176997[_0x2350fe(0x29a)]=_0x2350fe(0x25d),_0x176997['valid']=checkMinimums(_0x176997);else _0x176997[_0x2350fe(0x28b)]<_0x581405&&(_0x176997[_0x2350fe(0x29a)]=_0x2350fe(0x2d0),_0x176997[_0x2350fe(0x211)]=checkMinimums(_0x176997));}_0x176997[_0x2350fe(0x2a4)]=_0x176997[_0x2350fe(0x28b)]/_0x176997[_0x2350fe(0x29c)]-0x1;}),currentCoins[_0x3357cb(0x219)]((_0x29ec43,_0x568d1e)=>_0x29ec43[_0x3357cb(0x2a4)]<_0x568d1e[_0x3357cb(0x2a4)]?0x1:_0x568d1e[_0x3357cb(0x2a4)]<_0x29ec43[_0x3357cb(0x2a4)]?-0x1:0x0);const _0x224dbc=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x224dbc[_0x3357cb(0x2ac)],'usd':_0x224dbc[_0x3357cb(0x206)],'portfolio':JSON[_0x3357cb(0x214)](currentCoins),'threshold':_0x37b45b},proxyEmit(_0x3357cb(0x1fc),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x37b45b});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x37b45b});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x57633c=_0x359fec;if(!lastBalances)return;let _0x418abc=[],_0x33bc25,_0x9c6abe=JSON['parse'](lastBalances['portfolio']);_0x9c6abe['sort']((_0x341b98,_0x3acbf2)=>_0x341b98[_0x57633c(0x21a)]>_0x3acbf2[_0x57633c(0x21a)]?0x1:_0x3acbf2[_0x57633c(0x21a)]>_0x341b98[_0x57633c(0x21a)]?-0x1:0x0),_0x9c6abe[_0x57633c(0x1e8)](_0x586a49=>{const _0x3f9f71=_0x57633c;let _0x3cd874={'coin':_0x586a49['coin'],'number':_0x586a49[_0x3f9f71(0x275)],'price':_0x586a49[_0x3f9f71(0x22c)]};_0x418abc[_0x3f9f71(0x1ee)](_0x3cd874);});const _0x2515b7=await getFiat();_0x33bc25={'date':lastBalances[_0x57633c(0x1fb)][_0x57633c(0x2d3)]('\x20')[0x0],'eur':_0x2515b7[_0x57633c(0x2ac)],'usd':_0x2515b7['usd'],'coins':_0x418abc};let _0x33aebb=dbPerformance[_0x57633c(0x29e)]('data')[_0x57633c(0x1fa)]({'date':_0x33bc25['date']})[_0x57633c(0x1ec)]();_0x33aebb?_0x33bc25['date']!=config[_0x57633c(0x25b)]&&dbPerformance[_0x57633c(0x29e)](_0x57633c(0x283))[_0x57633c(0x1fa)]({'date':_0x33bc25[_0x57633c(0x200)]})[_0x57633c(0x23a)](_0x33bc25)[_0x57633c(0x269)]():dbPerformance[_0x57633c(0x29e)](_0x57633c(0x283))[_0x57633c(0x1ee)](_0x33bc25)[_0x57633c(0x269)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4695dd=_0x359fec;let _0x34fbc0=[];if(dbPerformance[_0x4695dd(0x28e)](_0x4695dd(0x283))[_0x4695dd(0x1ec)]()){let _0x5abdab=dbPerformance[_0x4695dd(0x29e)](_0x4695dd(0x283))['cloneDeep']()[_0x4695dd(0x251)](_0x4695dd(0x200))[_0x4695dd(0x1ec)](),_0x5f157f=[...config['liquidity']];_0x5f157f[_0x4695dd(0x219)]((_0x52b85b,_0x3caa6c)=>_0x52b85b[_0x4695dd(0x200)]>_0x3caa6c[_0x4695dd(0x200)]?-0x1:_0x3caa6c['date']>_0x52b85b[_0x4695dd(0x200)]?0x1:0x0);let _0x52c396=0x1,_0x576079=[],_0x385cef=0x0;_0x5abdab[_0x4695dd(0x216)]()['reverse']()[_0x4695dd(0x1e8)]((_0x34ae36,_0xe48eec)=>{const _0x15998a=_0x4695dd;if(_0x5f157f[_0x385cef]){const _0x2e24a7=fns[_0x15998a(0x2b6)](_0x5f157f[_0x385cef][_0x15998a(0x200)],_0x15998a(0x257),new Date()),_0x1858cf=fns[_0x15998a(0x2b6)](_0x34ae36[_0x15998a(0x200)],_0x15998a(0x257),new Date());if(fns['isEqual'](_0x2e24a7,fns[_0x15998a(0x1e2)](_0x1858cf,0x1))){if(_0xe48eec<_0x5abdab['length']){let _0x13f21c=0x0,_0x611a99=0x0;_0x5abdab[_0x5abdab['length']-_0xe48eec-0x1]['coins'][_0x15998a(0x1e8)](_0x27d7b1=>{const _0x5b902c=_0x15998a;_0x611a99+=_0x27d7b1[_0x5b902c(0x275)]*_0x27d7b1[_0x5b902c(0x22f)];}),_0x5f157f[_0x385cef]['changes'][_0x15998a(0x1e8)](_0x50a1ce=>{const _0xc6ce05=_0x15998a;_0x13f21c+=_0x50a1ce[_0xc6ce05(0x275)]*_0x50a1ce['price'];}),_0x52c396*=_0x13f21c/_0x611a99+0x1;}_0x385cef++;}}let _0xf2c4de=0x0;_0x34ae36[_0x15998a(0x243)][_0x15998a(0x1e8)](_0x2682ca=>{const _0x28a310=_0x15998a;_0xf2c4de+=_0x2682ca['number']*_0x2682ca[_0x28a310(0x22f)];}),_0x576079[_0x5abdab[_0x15998a(0x2a0)]-_0xe48eec-0x1]=_0xf2c4de*(_0x52c396-0x1);});let _0x287ac5=[];_0x5f157f=[...config[_0x4695dd(0x2a7)]]||[];let _0x2b3a9b=0x0;_0x385cef=0x0,_0x5abdab[_0x4695dd(0x1e8)]((_0x1fbfbf,_0x526523)=>{const _0x12fbdd=_0x4695dd;if(_0x5f157f[_0x385cef]){const _0x44f32c=fns['parse'](_0x5f157f[_0x385cef]['date'],_0x12fbdd(0x257),new Date()),_0x2381b4=fns[_0x12fbdd(0x2b6)](_0x1fbfbf[_0x12fbdd(0x200)],'yyyy/MM/dd',new Date()),_0x39043f=fns[_0x12fbdd(0x295)](fns[_0x12fbdd(0x259)](_0x2381b4,0x1),'yyyy/MM/dd');if(fns['isEqual'](_0x44f32c,_0x2381b4)){let _0x780660=0x0;_0x5f157f[_0x385cef][_0x12fbdd(0x1d1)][_0x12fbdd(0x1e8)](_0x2008ab=>{const _0x3fe3c6=_0x12fbdd;!_0x287ac5[_0x2008ab[_0x3fe3c6(0x21a)]]?_0x287ac5[_0x2008ab['coin']]=_0x2008ab[_0x3fe3c6(0x275)]:(_0x780660=_0x287ac5[_0x2008ab[_0x3fe3c6(0x21a)]],_0x287ac5[_0x2008ab[_0x3fe3c6(0x21a)]]+=_0x2008ab[_0x3fe3c6(0x275)]);const _0x5200b2=_0x1fbfbf[_0x3fe3c6(0x243)][_0x3fe3c6(0x1fa)](_0x591749=>_0x591749[_0x3fe3c6(0x21a)]==_0x2008ab['coin']);(!_0x5200b2||_0x5200b2[_0x3fe3c6(0x275)]==0x0)&&(_0x2b3a9b+=(-_0x2008ab[_0x3fe3c6(0x275)]-_0x780660)*_0x2008ab[_0x3fe3c6(0x22f)]);}),_0x385cef++;}}_0x1fbfbf[_0x12fbdd(0x243)][_0x12fbdd(0x1e8)]((_0x8b0459,_0x54038f)=>{const _0x962f0a=_0x12fbdd;_0x287ac5[_0x8b0459[_0x962f0a(0x21a)]]&&(_0x8b0459={..._0x8b0459,'initial':_0x287ac5[_0x8b0459[_0x962f0a(0x21a)]]}),_0x1fbfbf[_0x962f0a(0x243)][_0x54038f]=_0x8b0459;}),_0x34fbc0[_0x12fbdd(0x1ee)]({'date':_0x1fbfbf['date'],'eur':_0x1fbfbf[_0x12fbdd(0x2ac)],'usd':_0x1fbfbf[_0x12fbdd(0x206)],'offset':_0x576079[_0x526523],'netoffset':_0x2b3a9b,'coins':_0x1fbfbf['coins']});});}return _0x34fbc0;}function emitPerformance(_0x264bdf){const _0xa8c38=_0x359fec;_0x264bdf[_0xa8c38(0x2a0)]!==0x0?(proxyEmit('performance',_0x264bdf),lastPerformanceEmitted=getDate()):proxyEmit(_0xa8c38(0x2cc),[]);}function getPerf(_0x3bc2cc,_0x3b0947){const _0x1b19ee=_0x359fec;let _0x2f361b=0x0,_0x149bd2=0x0,_0x1ac70d=0x0;_0x3bc2cc[_0x1b19ee(0x243)]['forEach'](_0x3c40be=>{const _0x3ebf85=_0x1b19ee;_0x2f361b+=_0x3c40be[_0x3ebf85(0x275)]*_0x3c40be[_0x3ebf85(0x22f)];});_0x3b0947&&(_0x2f361b+=_0x3bc2cc['offset']);if(config[_0x1b19ee(0x233)]==='BTC')_0x149bd2=_0x2f361b*_0x3bc2cc[_0x1b19ee(0x2ac)],_0x1ac70d=_0x2f361b*_0x3bc2cc[_0x1b19ee(0x206)];else{if(config[_0x1b19ee(0x233)]===_0x1b19ee(0x1c7)||config[_0x1b19ee(0x233)]===_0x1b19ee(0x229)||config[_0x1b19ee(0x233)]===_0x1b19ee(0x204))_0x149bd2=_0x2f361b*_0x3bc2cc[_0x1b19ee(0x2ac)]/_0x3bc2cc[_0x1b19ee(0x206)],_0x1ac70d=_0x2f361b;else config[_0x1b19ee(0x233)]==='EUR'&&(_0x149bd2=_0x2f361b,_0x1ac70d=_0x2f361b*_0x3bc2cc[_0x1b19ee(0x206)]/_0x3bc2cc['eur']);}return[_0x2f361b,_0x149bd2,_0x1ac70d];}async function getStartingBalances(_0x513653,_0x258ce5=!![]){const _0x4d6877=_0x359fec;if(_0x513653[_0x4d6877(0x2a0)]!==0x0){const [_0x3cc4e6,_0x17e006,_0x1757e2]=getPerf(_0x513653[0x0],!![]);let _0x47ba84=[];config['portfolio']['forEach'](_0x4fe158=>{const _0x16991b=_0x4d6877;let _0x5230d3=0x0;config['liquidity'][_0x16991b(0x1e8)](_0x44a017=>{const _0xb964ac=_0x16991b;let _0x3c39da=_0x44a017[_0xb964ac(0x1d1)][_0xb964ac(0x1fa)](_0x2db8d2=>_0x2db8d2[_0xb964ac(0x21a)]==_0x4fe158['coin']);if(_0x3c39da)_0x5230d3+=_0x3c39da[_0xb964ac(0x275)];}),_0x47ba84[_0x16991b(0x1ee)]({'coin':_0x4fe158[_0x16991b(0x21a)],'number':_0x5230d3,'price':_0x4fe158[_0x16991b(0x22f)]});});const _0x2853bd={'basecoin':_0x3cc4e6,'eur':_0x17e006,'usd':_0x1757e2,'coins':_0x47ba84};if(_0x258ce5)proxyEmit(_0x4d6877(0x28a),_0x2853bd);return _0x2853bd;}}function headlessMode(_0x68079e){const _0xd1258a=_0x359fec;let _0x329033=_0x68079e[_0xd1258a(0x26e)],_0x2b2980=_0x68079e['threshold'],_0x446c5e=[];for(let _0x14f7e1 of _0x329033){if(_0x14f7e1[_0xd1258a(0x21a)]!=config[_0xd1258a(0x233)]){if(_0x14f7e1[_0xd1258a(0x28b)]/_0x14f7e1[_0xd1258a(0x29c)]-0x1>=_0x2b2980/0x64){if(_0x14f7e1['valid'])_0x446c5e[_0xd1258a(0x1ee)](_0x14f7e1);}else{if(_0x14f7e1[_0xd1258a(0x28b)]/_0x14f7e1['target']-0x1<=-_0x2b2980/0x64){if(_0x14f7e1[_0xd1258a(0x211)])_0x446c5e[_0xd1258a(0x1ee)](_0x14f7e1);}}}}_0x446c5e[_0xd1258a(0x2a0)]>0x0&&placeOrder(_0x446c5e);}function notifyBalance(_0x53f155){const _0xf4706b=_0x359fec;let _0x240894=_0x53f155['portfolio'],_0x3959e4=_0x53f155[_0xf4706b(0x27b)],_0x49f54a=[];for(let _0x4e2cae of _0x240894){if(_0x4e2cae[_0xf4706b(0x21a)]!=config[_0xf4706b(0x233)]){if(_0x4e2cae[_0xf4706b(0x28b)]/_0x4e2cae[_0xf4706b(0x29c)]-0x1>=_0x3959e4/0x64){if(_0x4e2cae[_0xf4706b(0x211)])_0x49f54a[_0xf4706b(0x1ee)](_0x4e2cae);}else{if(_0x4e2cae[_0xf4706b(0x28b)]/_0x4e2cae[_0xf4706b(0x29c)]-0x1<=-_0x3959e4/0x64){if(_0x4e2cae[_0xf4706b(0x211)])_0x49f54a[_0xf4706b(0x1ee)](_0x4e2cae);}}}}if(_0x49f54a[_0xf4706b(0x2a0)]>0x0){let _0x50321e=_0x49f54a[_0xf4706b(0x2c0)](_0x31c7e0=>_0x31c7e0['coin']);_0x50321e[_0xf4706b(0x219)]();let _0x2fc84c=_0x50321e['join'](',\x20');if(lastCoinsToBalance!==_0x2fc84c)logHistory(_0xf4706b(0x261),'Manual\x20balancing\x20required:\x20'+_0x2fc84c);lastCoinsToBalance=_0x2fc84c;}}function symbolToCoin(_0x4cab5d){const _0x300c4a=_0x359fec;let _0x2d6b7b;if(_0x4cab5d[_0x300c4a(0x212)]('/'+config[_0x300c4a(0x233)]))_0x2d6b7b=_0x4cab5d[_0x300c4a(0x2b3)]('/'+config[_0x300c4a(0x233)],'');if(_0x4cab5d[_0x300c4a(0x212)](config[_0x300c4a(0x233)]+'/'))_0x2d6b7b=_0x4cab5d[_0x300c4a(0x2b3)](config[_0x300c4a(0x233)]+'/','');return _0x2d6b7b;}async function validateOrders(_0x16c31a=0x0){const _0x58fc4f=_0x359fec;let _0x3ba953=[],_0x2fdad7=config[_0x58fc4f(0x1e7)]==_0x58fc4f(0x292)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x58fc4f(0x239)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x58fc4f(0x1e8)](_0x35715e=>{const _0x3fca47=_0x58fc4f;let _0x311a3f=previousCoins['find'](_0x4fcc47=>_0x4fcc47[_0x3fca47(0x21a)]==symbolToCoin(_0x35715e[_0x3fca47(0x297)])),_0x2cb0d8=currentCoins['find'](_0x5b4a0b=>_0x5b4a0b[_0x3fca47(0x21a)]==symbolToCoin(_0x35715e[_0x3fca47(0x297)])),_0x4ee7b7,_0x597eb6;_0x35715e['side']=='buy'&&!_0x35715e['reverse']||_0x35715e[_0x3fca47(0x29a)]==_0x3fca47(0x25d)&&_0x35715e['reverse']?(_0x4ee7b7=_0x311a3f[_0x3fca47(0x275)]+0.9*_0x35715e[_0x3fca47(0x2c2)],_0x597eb6=_0x311a3f[_0x3fca47(0x275)]+1.1*_0x35715e[_0x3fca47(0x2c2)]):(_0x4ee7b7=_0x311a3f[_0x3fca47(0x275)]-1.1*_0x35715e[_0x3fca47(0x2c2)],_0x597eb6=_0x311a3f[_0x3fca47(0x275)]-0.9*_0x35715e[_0x3fca47(0x2c2)]);const _0xa3d510=_0x35715e[_0x3fca47(0x2c2)]!=0x0&&_0x2cb0d8[_0x3fca47(0x275)]>=_0x4ee7b7&&_0x2cb0d8[_0x3fca47(0x275)]<=_0x597eb6;_0x3ba953[_0x3fca47(0x1ee)](_0xa3d510);if(_0xa3d510&&config['ordertype']!=_0x3fca47(0x292)){if(_0x35715e[_0x3fca47(0x240)])logHistory(_0x3fca47(0x25e),_0x3fca47(0x223)+_0x35715e[_0x3fca47(0x297)]+'\x20'+_0x35715e[_0x3fca47(0x29a)]+'\x20#'+formatResult(_0x35715e[_0x3fca47(0x2c2)]/_0x35715e[_0x3fca47(0x22f)],0x8)+'\x20@'+formatResult(_0x35715e['price'],0x8));else logHistory(_0x3fca47(0x25e),_0x3fca47(0x223)+_0x35715e['symbol']+'\x20'+_0x35715e['side']+'\x20#'+formatResult(_0x35715e['filled'],0x8)+'\x20@'+formatResult(_0x35715e[_0x3fca47(0x22f)],0x8));}}),_0x3ba953[_0x58fc4f(0x1e8)]((_0x1f2ff9,_0x442acf)=>{const _0x48e59b=_0x58fc4f;if(_0x1f2ff9)lastOrders[_0x48e59b(0x23f)](_0x442acf,0x1);});if(_0x16c31a<_0x2fdad7&&_0x3ba953[_0x58fc4f(0x212)](![])){if(_0x16c31a==0x0){config['ordertype']==_0x58fc4f(0x292)?logHistory(_0x58fc4f(0x273),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x58fc4f(0x273),_0x58fc4f(0x277));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x16c31a);},0xa*0x3e8);}else{(_0x16c31a==0x1||_0x16c31a==Math[_0x58fc4f(0x1c4)](_0x2fdad7/0x2)||_0x16c31a==_0x2fdad7-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x16c31a);},validateOrderInterval);}}else{lockOrders=![];if(_0x16c31a>0x0&&!_0x3ba953['includes'](![]))config[_0x58fc4f(0x1e7)]==_0x58fc4f(0x292)?logHistory('success',_0x58fc4f(0x1dc)):logHistory('success',_0x58fc4f(0x2b2));else _0x16c31a>0x0&&_0x3ba953[_0x58fc4f(0x212)](![])&&(config[_0x58fc4f(0x1e7)]==_0x58fc4f(0x292)?logHistory(_0x58fc4f(0x261),_0x58fc4f(0x20a)+Math[_0x58fc4f(0x1c4)](_0x2fdad7*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed'):(lastOrders['forEach'](async _0x308d66=>{const _0x4d244b=_0x58fc4f;try{const _0x1f5bdf=await exchange[_0x4d244b(0x26f)](_0x308d66[_0x4d244b(0x1e5)],_0x308d66['symbol']);}catch(_0x304491){if(_0x304491[_0x4d244b(0x1ff)]()[_0x4d244b(0x212)](_0x4d244b(0x29b))){}else await handleError(_0x304491,_0x4d244b(0x278));}}),logHistory('success',_0x58fc4f(0x2bc)+Math['round'](_0x2fdad7*validateOrderInterval/0xea60)+_0x58fc4f(0x2a9))));}}async function resetCoinResults(){const _0x7c7546=_0x359fec;dbCoinResults[_0x7c7546(0x29e)](_0x7c7546(0x243))[_0x7c7546(0x2c7)]()[_0x7c7546(0x269)]();let _0x2964dc=await getStartingBalances(getNormalizedPerformance(),![]);_0x2964dc['coins']['forEach'](_0x5a84fe=>{const _0x362f7e=_0x7c7546;if(_0x5a84fe['coin']!=config[_0x362f7e(0x233)]){let _0x14f9bd={'coin':_0x5a84fe['coin'],'number':_0x5a84fe[_0x362f7e(0x275)],'breakeven':_0x5a84fe[_0x362f7e(0x22f)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x362f7e(0x29e)]('coins')[_0x362f7e(0x1ee)](_0x14f9bd)[_0x362f7e(0x269)]();}});}async function updateCoinResults(_0x3a482a){const _0x56fcd1=_0x359fec;let _0x16c9ab,_0x3d0c64,_0x1c683c,_0x5dc164,_0x2b3623,_0x7f6752,_0x9d702b=dbCoinResults['get'](_0x56fcd1(0x243))[_0x56fcd1(0x1fa)]({'coin':_0x3a482a['coin']})[_0x56fcd1(0x1ec)]();if(!_0x9d702b)return;if(_0x3a482a[_0x56fcd1(0x209)]&&_0x3a482a['fee'][_0x56fcd1(0x22a)]==config[_0x56fcd1(0x233)])_0x16c9ab=_0x3a482a['fee'][_0x56fcd1(0x227)];else{if(_0x3a482a['fee']&&_0x3a482a['fee'][_0x56fcd1(0x22a)]=='BNB')_0x16c9ab=_0x3a482a[_0x56fcd1(0x209)][_0x56fcd1(0x227)]*global[_0x56fcd1(0x1ef)][_0x56fcd1(0x1cb)+config[_0x56fcd1(0x233)]];else _0x16c9ab=0.001*_0x3a482a[_0x56fcd1(0x2c2)];}const _0x124269=_0x3a482a[_0x56fcd1(0x297)][_0x56fcd1(0x212)](config[_0x56fcd1(0x233)]+'/');_0x124269&&(_0x7f6752={'coin':_0x3a482a[_0x56fcd1(0x21a)],'symbol':_0x3a482a['symbol'],'filled':_0x3a482a[_0x56fcd1(0x2c2)]*_0x3a482a[_0x56fcd1(0x22f)],'side':_0x3a482a['side']==_0x56fcd1(0x25d)?_0x56fcd1(0x2d0):_0x56fcd1(0x25d),'price':0x1/_0x3a482a[_0x56fcd1(0x22f)]},_0x3a482a={..._0x7f6752});_0x3a482a['side']==_0x56fcd1(0x2d0)?_0x1c683c=(_0x9d702b[_0x56fcd1(0x1d5)]*_0x9d702b[_0x56fcd1(0x275)]+_0x3a482a[_0x56fcd1(0x22f)]*_0x3a482a[_0x56fcd1(0x2c2)])/(_0x9d702b[_0x56fcd1(0x275)]+_0x3a482a['filled']):_0x1c683c=(_0x9d702b[_0x56fcd1(0x1d5)]*_0x9d702b[_0x56fcd1(0x275)]-_0x3a482a[_0x56fcd1(0x22f)]*_0x3a482a[_0x56fcd1(0x2c2)])/(_0x9d702b[_0x56fcd1(0x275)]-_0x3a482a[_0x56fcd1(0x2c2)]);_0x3a482a['side']==_0x56fcd1(0x2d0)?_0x5dc164=_0x9d702b['realized']:_0x5dc164=_0x9d702b['realized']+(_0x3a482a['price']-_0x9d702b['breakeven'])*_0x3a482a[_0x56fcd1(0x2c2)];_0x3d0c64=_0x3a482a[_0x56fcd1(0x29a)]==_0x56fcd1(0x25d)?_0x9d702b[_0x56fcd1(0x275)]-_0x3a482a[_0x56fcd1(0x2c2)]:_0x9d702b[_0x56fcd1(0x275)]+_0x3a482a[_0x56fcd1(0x2c2)],_0x2b3623=(_0x3a482a['price']-_0x1c683c)*_0x3d0c64;let _0x496fd4={'coin':_0x3a482a[_0x56fcd1(0x21a)],'number':_0x3d0c64,'breakeven':formatResult(_0x1c683c,0x8),'realized':formatResult(_0x5dc164,0x8),'unrealized':formatResult(_0x2b3623,0x8),'fees':formatResult(_0x9d702b[_0x56fcd1(0x1eb)]+_0x16c9ab,0x8),'sells':_0x3a482a['side']==_0x56fcd1(0x25d)?_0x9d702b[_0x56fcd1(0x2bd)]+0x1:_0x9d702b['sells'],'buys':_0x3a482a[_0x56fcd1(0x29a)]==_0x56fcd1(0x2d0)?_0x9d702b[_0x56fcd1(0x210)]+0x1:_0x9d702b[_0x56fcd1(0x210)]};dbCoinResults[_0x56fcd1(0x29e)](_0x56fcd1(0x243))['find']({'coin':_0x3a482a[_0x56fcd1(0x21a)]})[_0x56fcd1(0x23a)](_0x496fd4)[_0x56fcd1(0x269)]();}async function placeOrder(_0x58caa9){const _0x4f2537=_0x359fec,_0xbd9c94=config[_0x4f2537(0x1e7)]==_0x4f2537(0x292)?_0x4f2537(0x292):_0x4f2537(0x231);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x4f2537(0x2b6)](JSON[_0x4f2537(0x214)](currentCoins));for(const _0x1f5d39 of _0x58caa9){let _0x18d0c6,_0x8431e8,_0x3efa29,_0x4412c5,_0x4d09a9,_0x1fba23=_0x1f5d39['symbol'];try{const _0x2688ac=await exchange['fetchTickers'](_0x1fba23),_0x4079de=_0x2688ac[_0x1fba23];_0x18d0c6=_0x4079de[_0x4f2537(0x22c)],_0x8431e8=_0x4079de[_0x4f2537(0x286)],_0x3efa29=_0x4079de[_0x4f2537(0x2bf)];_0x1f5d39[_0x4f2537(0x240)]?(_0x4412c5=_0x1f5d39[_0x4f2537(0x29a)]==_0x4f2537(0x2d0)?_0x4f2537(0x25d):'buy',_0x4d09a9=Math[_0x4f2537(0x20e)](_0x1f5d39[_0x4f2537(0x23e)])/_0x18d0c6):(_0x4412c5=_0x1f5d39[_0x4f2537(0x29a)],_0x4d09a9=Math[_0x4f2537(0x20e)](_0x1f5d39[_0x4f2537(0x23e)]));_0xbd9c94==_0x4f2537(0x231)&&(config[_0x4f2537(0x1e7)]==_0x4f2537(0x265)&&(_0x18d0c6=_0x4412c5==_0x4f2537(0x2d0)?_0x8431e8:_0x3efa29),config[_0x4f2537(0x1e7)]==_0x4f2537(0x246)&&(_0x18d0c6=_0x4412c5==_0x4f2537(0x2d0)?_0x3efa29:_0x8431e8));_0x4d09a9=formatResult(_0x4d09a9,0x8),_0x18d0c6=formatResult(_0x18d0c6,0x8);const _0x1504d6=await exchange[_0x4f2537(0x27c)](_0x1fba23,_0xbd9c94,_0x4412c5,_0x4d09a9,_0x18d0c6);lastOrders[_0x4f2537(0x1ee)]({'orderId':_0x1504d6['id'],'symbol':_0x1fba23,'side':_0x4412c5,'reverse':_0x1f5d39[_0x4f2537(0x240)],'amount':_0x1f5d39[_0x4f2537(0x240)]?_0x1504d6['amount']*_0x1504d6[_0x4f2537(0x22f)]:_0x1504d6[_0x4f2537(0x1f4)],'filled':_0x1f5d39[_0x4f2537(0x240)]?_0x1504d6[_0x4f2537(0x2c2)]*_0x1504d6[_0x4f2537(0x22f)]:_0x1504d6[_0x4f2537(0x2c2)],'price':_0x1504d6['price']});const _0xfac2c7=_0x4412c5==_0x4f2537(0x25d)?config[_0x4f2537(0x22e)]?String[_0x4f2537(0x1cf)]('0x'+config[_0x4f2537(0x22e)])+'\x20':'':config[_0x4f2537(0x2af)]?String[_0x4f2537(0x1cf)]('0x'+config[_0x4f2537(0x2af)])+'\x20':'',_0x1a8f6f=_0xbd9c94==_0x4f2537(0x292)?_0x4f2537(0x256):config[_0x4f2537(0x1e7)]==_0x4f2537(0x265)?_0x4f2537(0x291):_0x4f2537(0x236);if(_0xbd9c94==_0x4f2537(0x292))logHistory(_0x4f2537(0x25e),''+_0xfac2c7+_0x1a8f6f+_0x4f2537(0x2b8)+_0x1fba23+'\x20'+_0x4412c5+'\x20#'+formatResult(_0x1504d6['filled'],0x8)+'\x20@'+formatResult(_0x1504d6[_0x4f2537(0x22f)],0x8));else logHistory(_0x4f2537(0x25e),''+_0xfac2c7+_0x1a8f6f+_0x4f2537(0x2b8)+_0x1fba23+'\x20'+_0x4412c5+'\x20#'+formatResult(_0x1504d6[_0x4f2537(0x1f4)],0x8)+'\x20@'+formatResult(_0x1504d6[_0x4f2537(0x22f)],0x8));_0x1504d6[_0x4f2537(0x21a)]=_0x1f5d39[_0x4f2537(0x21a)],await updateCoinResults(_0x1504d6);if(config['cooldown']!=0x0){let _0x573c9b=null;if(cooldownTracker[_0x4f2537(0x2a0)]==config['cooldown']-0x1)_0x573c9b=cooldownTracker[_0x4f2537(0x290)]();const _0x35e314=getTimeStamp();cooldownTracker['push'](_0x35e314);if(_0x573c9b){const _0x10f4f4=fns['differenceInSeconds'](new Date(_0x35e314),new Date(_0x573c9b));_0x10f4f4<cooldownInterval&&(logHistory('error',_0x4f2537(0x1cd)+config['cooldown']+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x4f2537(0x21e)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x2381f8){if(_0x2381f8[_0x4f2537(0x1ff)]()[_0x4f2537(0x212)](_0x4f2537(0x1c6)))logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x1fba23);else{if(_0x2381f8[_0x4f2537(0x1ff)]()[_0x4f2537(0x212)](_0x4f2537(0x2ae)))logHistory(_0x4f2537(0x273),_0x4f2537(0x24b)+_0x1fba23);else await handleError(_0x2381f8,'placeOrder()');}}}if(lastOrders['length']!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x4f2537(0x1c3)]&&(config[_0x4f2537(0x1e7)]=='market'?logHistory(_0x4f2537(0x273),_0x4f2537(0x244)):logHistory(_0x4f2537(0x273),_0x4f2537(0x1ce)));else coolingDown&&(!config[_0x4f2537(0x1c3)]&&logHistory(_0x4f2537(0x273),_0x4f2537(0x237)));}}function logHistory(_0x1eb59f,_0x5265b1,_0x255cde=''){const _0x4a4482=_0x359fec;let _0x18f2e9={'time':getTimeStamp(),'type':_0x1eb59f,'event':_0x5265b1};dbLogs['get'](_0x4a4482(0x1e1))[_0x4a4482(0x1ee)](_0x18f2e9)['write']();if(_0x255cde=='')_0x255cde=_0x5265b1;proxyEmit('event',{'log':_0x18f2e9,'summary':_0x255cde}),process['send']({'telegram':{..._0x18f2e9,'botname':config['botname'],'showname':config[_0x4a4482(0x2b4)]}},_0x5a2cae=>{}),logging(''+_0x18f2e9['event']);}function emitHistory(_0x29cc44={}){const _0x2a19ce=_0x359fec;Object['keys'](_0x29cc44)[_0x2a19ce(0x2a0)]==0x0&&(_0x29cc44={'type':[_0x2a19ce(0x25e),_0x2a19ce(0x2ba)],'event':'','page':0x1});if(_0x29cc44[_0x2a19ce(0x22d)][_0x2a19ce(0x212)](_0x2a19ce(0x2ba)))_0x29cc44[_0x2a19ce(0x22d)]['splice'](_0x29cc44[_0x2a19ce(0x22d)]['indexOf'](_0x2a19ce(0x2ba)),0x1,'error',_0x2a19ce(0x261));if(dbLogs[_0x2a19ce(0x28e)](_0x2a19ce(0x1e1))[_0x2a19ce(0x1ec)]()){let _0x1426a0=dbLogs['get'](_0x2a19ce(0x1e1))[_0x2a19ce(0x274)](_0x35bba2=>{const _0x35f581=_0x2a19ce;if(_0x29cc44['type'][_0x35f581(0x2a0)]==0x0)return![];else return _0x29cc44[_0x35f581(0x22d)]['includes'](_0x35bba2[_0x35f581(0x22d)]);})['filter'](_0x52f30e=>{const _0x47bbca=_0x2a19ce;if(_0x29cc44[_0x47bbca(0x2ba)]=='')return!![];else return _0x52f30e[_0x47bbca(0x2ba)]['toLowerCase']()[_0x47bbca(0x212)](_0x29cc44[_0x47bbca(0x2ba)][_0x47bbca(0x215)]());})['sortBy'](_0x2a19ce(0x1fb)),_0x24743b=_0x1426a0[_0x2a19ce(0x1ec)]()['length'];_0x1426a0=_0x1426a0[_0x2a19ce(0x240)]()['slice']((_0x29cc44[_0x2a19ce(0x25c)]-0x1)*logPageSize,_0x29cc44[_0x2a19ce(0x25c)]*logPageSize-0x1)[_0x2a19ce(0x240)]()['value'](),proxyEmit(_0x2a19ce(0x255),{'logs':_0x1426a0,'total':_0x24743b});}else proxyEmit('event-history',{'logs':[],'total':0x0});}async function pauseBot(_0x296aca){const _0x192e8e=_0x359fec,_0x30f364=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x192e8e(0x1fe)](),consecutivePauses=0x1;else{if(_0x30f364-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x192e8e(0x26b)]({'stop':_0x192e8e(0x253)},_0x74b0b6=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x192e8e(0x1fe)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x192e8e(0x273),_0x192e8e(0x25f)+consecutivePauses+')'),await sleep(_0x296aca),botPaused=![],reset();}}async function handleError(_0x41cc2e,_0x25a4f7,_0x31321c=''){const _0x5bf7cb=_0x359fec;if(_0x41cc2e[_0x5bf7cb(0x1ff)]()[_0x5bf7cb(0x212)](_0x5bf7cb(0x24d)))logHistory(_0x5bf7cb(0x273),_0x25a4f7+_0x5bf7cb(0x24c)),await pauseBot(pauseBotInterval);else{if(_0x41cc2e[_0x5bf7cb(0x1ff)]()[_0x5bf7cb(0x212)](_0x5bf7cb(0x225)))logHistory(_0x5bf7cb(0x273),_0x25a4f7+_0x5bf7cb(0x1ed)),await pauseBot(pauseBotInterval);else{if(_0x41cc2e['toString']()['includes'](_0x5bf7cb(0x1e3)))logHistory(_0x5bf7cb(0x273),_0x25a4f7+_0x5bf7cb(0x252)),await pauseBot(pauseBotInterval);else{if(_0x41cc2e[_0x5bf7cb(0x1ff)]()['includes'](_0x5bf7cb(0x27a)))logHistory(_0x5bf7cb(0x273),_0x25a4f7+'\x20|\x20Binance\x20API\x20key\x20is\x20invalid'),logHistory(_0x5bf7cb(0x273),_0x5bf7cb(0x238)),process['send']({'stop':'kill'},_0x1b56c9=>{});else{if(_0x41cc2e[_0x5bf7cb(0x1ff)]()['includes'](_0x5bf7cb(0x2b5)))logHistory(_0x5bf7cb(0x273),_0x25a4f7+_0x5bf7cb(0x299)),logHistory(_0x5bf7cb(0x273),_0x5bf7cb(0x238)),process[_0x5bf7cb(0x26b)]({'stop':'kill'},_0xb1e1ad=>{});else{if(_0x41cc2e[_0x5bf7cb(0x1ff)]()[_0x5bf7cb(0x212)](_0x5bf7cb(0x285)))logHistory(_0x5bf7cb(0x273),_0x25a4f7+_0x5bf7cb(0x249)),logHistory(_0x5bf7cb(0x273),_0x5bf7cb(0x238)),process[_0x5bf7cb(0x26b)]({'stop':_0x5bf7cb(0x1d8)},_0x17cbae=>{});else{if(_0x41cc2e[_0x5bf7cb(0x1ff)]()[_0x5bf7cb(0x212)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x5bf7cb(0x273),_0x25a4f7+_0x5bf7cb(0x264)),logHistory(_0x5bf7cb(0x273),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0x5bf7cb(0x26b)]({'stop':_0x5bf7cb(0x1d8)},_0x4b3c30=>{});else{if(_0x41cc2e['toString']()['includes'](_0x5bf7cb(0x2ca)))logHistory(_0x5bf7cb(0x273),_0x25a4f7+_0x5bf7cb(0x217)),await pauseBot(pauseBotInterval),process[_0x5bf7cb(0x26b)]({'stop':_0x5bf7cb(0x253)},_0x11b0a8=>{});else _0x41cc2e[_0x5bf7cb(0x1ff)]()[_0x5bf7cb(0x212)]('InsufficientFunds')?logHistory(_0x5bf7cb(0x273),_0x25a4f7+_0x5bf7cb(0x1cc)):(logHistory(_0x5bf7cb(0x273),_0x25a4f7+_0x5bf7cb(0x270)),logging(_0x25a4f7+_0x5bf7cb(0x2cf),_0x41cc2e),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x1d4a6a,_0x29468d){const _0x30cfc2=_0x359fec;return parseFloat(_0x1d4a6a[_0x30cfc2(0x228)](_0x29468d));}function logging(_0x339907,_0x3c64be=''){const _0xb8342f=_0x359fec;if(config[_0xb8342f(0x2b4)])console['log'](getTimeStamp()+':\x20'+config['botname']+'\x20>\x20'+_0x339907,_0x3c64be);else console['log'](getTimeStamp()+_0xb8342f(0x1e4)+botID+_0xb8342f(0x2c5)+_0x339907,_0x3c64be);}function getServerTime(){const _0x3abca2=_0x359fec,_0x2a2cd3=new Date();return _0x2a2cd3[_0x3abca2(0x1d3)]()+'/'+(_0x2a2cd3[_0x3abca2(0x2ab)]()+0x1)[_0x3abca2(0x1ff)]()[_0x3abca2(0x205)](0x2,'0')+'/'+_0x2a2cd3[_0x3abca2(0x1c5)]()[_0x3abca2(0x1ff)]()[_0x3abca2(0x205)](0x2,'0')+'\x20'+_0x2a2cd3['getHours']()[_0x3abca2(0x1ff)]()[_0x3abca2(0x205)](0x2,'0')+':'+_0x2a2cd3[_0x3abca2(0x2d4)]()[_0x3abca2(0x1ff)]()[_0x3abca2(0x205)](0x2,'0')+':'+_0x2a2cd3['getSeconds']()[_0x3abca2(0x1ff)]()[_0x3abca2(0x205)](0x2,'0');}function getTimeStamp(){const _0xd7a6bf=_0x359fec,_0x4412ea=shiftedTime();return _0x4412ea[_0xd7a6bf(0x1d3)]()+'/'+(_0x4412ea['getMonth']()+0x1)[_0xd7a6bf(0x1ff)]()[_0xd7a6bf(0x205)](0x2,'0')+'/'+_0x4412ea[_0xd7a6bf(0x1c5)]()[_0xd7a6bf(0x1ff)]()[_0xd7a6bf(0x205)](0x2,'0')+'\x20'+_0x4412ea[_0xd7a6bf(0x2a2)]()['toString']()[_0xd7a6bf(0x205)](0x2,'0')+':'+_0x4412ea[_0xd7a6bf(0x2d4)]()[_0xd7a6bf(0x1ff)]()[_0xd7a6bf(0x205)](0x2,'0')+':'+_0x4412ea['getSeconds']()[_0xd7a6bf(0x1ff)]()[_0xd7a6bf(0x205)](0x2,'0');}function getDate(){const _0x55a31a=_0x359fec,_0xaf84e3=shiftedTime();return _0xaf84e3['getFullYear']()+'/'+(_0xaf84e3[_0x55a31a(0x2ab)]()+0x1)[_0x55a31a(0x1ff)]()[_0x55a31a(0x205)](0x2,'0')+'/'+_0xaf84e3['getDate']()[_0x55a31a(0x1ff)]()[_0x55a31a(0x205)](0x2,'0');}function getHour(){const _0x31ac9a=_0x359fec,_0x4cc718=shiftedTime();return _0x4cc718[_0x31ac9a(0x2a2)]()[_0x31ac9a(0x1ff)]()[_0x31ac9a(0x205)](0x2,'0');}function sleep(_0x145a99){return new Promise(_0x4a261a=>setTimeout(_0x4a261a,_0x145a99));}function shiftedTime(){const _0x1dd897=_0x359fec,_0x3b0333=new Date();let _0x1865ca=_0x3b0333;if(config&&config[_0x1dd897(0x1c1)]!==0x0)_0x1865ca=fns[_0x1dd897(0x26a)](_0x3b0333,{'hours':config[_0x1dd897(0x1c1)]});return _0x1865ca;}